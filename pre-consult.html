<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pre-Consult Smart History | Dr Nisa Raisani</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,Segoe UI;background:#f5f7fb;color:#1f2937}
.hero{background:linear-gradient(120deg,#0f172a,#1e3a8a);color:#fff;padding:60px 20px}
.hero h1{font-size:34px}
.container{max-width:900px;margin:40px auto;background:#fff;padding:35px;border-radius:18px;box-shadow:0 20px 40px rgba(0,0,0,.08)}
label{display:block;margin-top:20px;font-weight:600}
select,input{width:100%;padding:12px;margin-top:6px;border-radius:10px;border:1px solid #cbd5e1}
.hidden{display:none}
button{margin-top:30px;padding:14px 26px;background:#1e3a8a;color:#fff;border:none;border-radius:12px;font-size:16px}
#alert{margin-top:20px;padding:15px;border-radius:10px;background:#fee2e2;color:#7f1d1d;display:none}
#summary{margin-top:30px;padding:20px;border-left:6px solid #1e3a8a;background:#f8fafc;border-radius:12px;display:none}
</style>
</head>

<body>

<section class="hero">
  <h1>Pre-Consult Smart History System</h1>
  <p>Dynamic, clinician-designed pre-consult history tool</p>
</section>

<div class="container">

<label>Age</label>
<input type="number" id="age">

<label>Gender</label>
<select id="gender">
  <option value="">Select</option>
  <option>Male</option>
  <option>Female</option>
</select>

<label>Main Complaint</label>
<select id="complaint" onchange="handleComplaint()">
  <option value="">Select</option>
  <option value="headache">Headache</option>
  <option value="seizure">Seizures</option>
</select>

<!-- HEADACHE AUTO SECTION -->
<div id="headacheSection" class="hidden">
  <label>Is headache worse in the morning?</label>
  <select id="morningHeadache" onchange="checkRedFlags()">
    <option value="">Select</option>
    <option>Yes</option>
    <option>No</option>
  </select>

  <label>Associated vomiting?</label>
  <select id="vomiting" onchange="checkRedFlags()">
    <option value="">Select</option>
    <option>Yes</option>
    <option>No</option>
  </select>
</div>

<!-- SEIZURE AUTO SECTION -->
<div id="seizureSection" class="hidden">
  <label>Is this the first seizure?</label>
  <select id="firstSeizure" onchange="checkRedFlags()">
    <option value="">Select</option>
    <option>Yes</option>
    <option>No</option>
  </select>

  <label>Loss of consciousness?</label>
  <select id="loc" onchange="checkRedFlags()">
    <option value="">Select</option>
    <option>Yes</option>
    <option>No</option>
  </select>
</div>

<div id="alert"></div>

<button onclick="generateSummary()">Generate Doctor Summary</button>

<div id="summary"></div>

</div>

<script>
function handleComplaint(){
  document.getElementById("headacheSection").classList.add("hidden");
  document.getElementById("seizureSection").classList.add("hidden");
  document.getElementById("alert").style.display="none";

  const c=document.getElementById("complaint").value;
  if(c==="headache") document.getElementById("headacheSection").classList.remove("hidden");
  if(c==="seizure") document.getElementById("seizureSection").classList.remove("hidden");
}

function checkRedFlags(){
  let alertBox=document.getElementById("alert");
  alertBox.style.display="none";

  if(
    document.getElementById("morningHeadache")?.value==="Yes" &&
    document.getElementById("vomiting")?.value==="Yes"
  ){
    alertBox.innerText="⚠ Red Flag: Possible raised intracranial pressure. Urgent evaluation advised.";
    alertBox.style.display="block";
  }

  if(document.getElementById("firstSeizure")?.value==="Yes"){
    alertBox.innerText="⚠ Red Flag: First-time seizure. Immediate neurological assessment required.";
    alertBox.style.display="block";
  }
}

function generateSummary(){
  document.getElementById("summary").style.display="block";
  document.getElementById("summary").innerHTML=`
    <h3>Doctor Summary</h3>
    <p><b>Age:</b> ${age.value}</p>
    <p><b>Gender:</b> ${gender.value}</p>
    <p><b>Complaint:</b> ${complaint.value}</p>
  `;
}
</script>

</body>
</html>
