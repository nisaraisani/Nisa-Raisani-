<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Virtual Neurology OPD | Dr Nisa Rasani</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial,sans-serif;background:#f4f6f8;padding:15px}
.container{max-width:900px;margin:auto;background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.1)}
h2,h3{text-align:center;color:#003366}
label{display:block;margin-top:12px;font-weight:bold}
input,select,button{width:100%;padding:10px;margin-top:6px}
button{background:#003366;color:#fff;border:none;border-radius:6px;cursor:pointer;margin-top:12px}
button:hover{background:#002244}
.result{margin-top:20px;padding:18px;border-radius:10px}
.high{background:#ffe0e0}
.moderate{background:#fff3cd}
.low{background:#e6f4ea}
.box{background:#f2f2f2;padding:10px;border-radius:6px;margin-top:10px}
canvas{margin-top:20px;width:100%;border:1px solid #ddd}
small{color:#555}
.lang{margin-top:10px}
</style>
</head>

<body>

<div class="container">

<h2 id="title">Virtual Neurology OPD</h2>
<p style="text-align:center" id="subtitle">
<b>Dr Nisa Rasani</b><br>Neurologist
</p>

<div class="box">
<b>Patient ID:</b> <span id="pid"></span>
</div>

<div class="lang">
<label>Language / زبان</label>
<select id="language" onchange="setLanguage()">
  <option value="en">English</option>
  <option value="ur">اردو</option>
</select>
</div>

<label id="ageLabel">Age</label>
<input type="number" id="age">

<label id="complaintLabel">Main Symptom</label>
<select id="complaint">
  <option value="">Select</option>
  <option>Chronic Headache</option>
  <option>Sudden Weakness</option>
  <option>Speech Difficulty</option>
  <option>Seizure</option>
  <option>Numbness / Tingling</option>
</select>

<label id="durationLabel">Duration</label>
<select id="duration">
  <option value="">Select</option>
  <option>Few Hours</option>
  <option>Few Days</option>
  <option>Several Weeks</option>
</select>

<button onclick="runAssessment()" id="assessBtn">Run Assessment</button>
<button onclick="printReferral()" id="refBtn">Print Referral Slip</button>

<div id="output"></div>

<h3 id="dashTitle">Patient Dashboard</h3>
<canvas id="chart" width="500" height="150"></canvas>

<small id="disclaimer">
This tool provides clinical guidance only and does not replace physical examination or emergency care.
</small>

</div>

<script>
// ================= PATIENT ID =================
pid.innerText="VNOPD-"+Math.floor(Math.random()*900000+100000);

// ================= LANGUAGE TEXT =================
const TEXT={
en:{
 title:"Virtual Neurology OPD",
 subtitle:"Neurologist",
 age:"Age",
 complaint:"Main Symptom",
 duration:"Duration",
 assess:"Run Assessment",
 referral:"Print Referral Slip",
 dashboard:"Patient Dashboard",
 disclaimer:"This tool provides clinical guidance only and does not replace physical examination or emergency care.",
 high:"Please seek emergency medical care immediately.",
 moderate:"Neurology OPD consultation is recommended.",
 low:"Monitor symptoms and seek care if they worsen."
},
ur:{
 title:"ورچوئل نیورولوجی او پی ڈی",
 subtitle:"نیورولوجسٹ",
 age:"عمر",
 complaint:"بنیادی علامت",
 duration:"دورانیہ",
 assess:"جائزہ کریں",
 referral:"ریفرل سلپ پرنٹ کریں",
 dashboard:"مریض ڈیش بورڈ",
 disclaimer:"یہ سہولت صرف رہنمائی کے لیے ہے اور ایمرجنسی یا فزیکل معائنے کا متبادل نہیں۔",
 high:"فوراً قریبی ایمرجنسی میں جائیں۔",
 moderate:"نیورولوجی او پی ڈی سے رجوع کریں۔",
 low:"علامات پر نظر رکھیں، بڑھیں تو ڈاکٹر سے رجوع کریں۔"
}
};

function setLanguage(){
 let l=language.value;
 title.innerText=TEXT[l].title;
 subtitle.innerHTML="<b>Dr Nisa Rasani</b><br>"+TEXT[l].subtitle;
 ageLabel.innerText=TEXT[l].age;
 complaintLabel.innerText=TEXT[l].complaint;
 durationLabel.innerText=TEXT[l].duration;
 assessBtn.innerText=TEXT[l].assess;
 refBtn.innerText=TEXT[l].referral;
 dashTitle.innerText=TEXT[l].dashboard;
 disclaimer.innerText=TEXT[l].disclaimer;
}

// ================= RISK ENGINE =================
function assessRisk(c,d){
 if(c==="Sudden Weakness"||c==="Speech Difficulty"||c==="Seizure")
   return{level:"HIGH",css:"high"};
 if(c==="Chronic Headache"||c==="Numbness / Tingling"||d==="Several Weeks")
   return{level:"MODERATE",css:"moderate"};
 return{level:"LOW",css:"low"};
}

// ================= CONDITION =================
function detectCondition(c){
 const map={
  "Chronic Headache":"Migraine",
  "Sudden Weakness":"Possible Stroke",
  "Speech Difficulty":"Possible Stroke",
  "Seizure":"Seizure Disorder",
  "Numbness / Tingling":"Peripheral Neuropathy"
 };
 return map[c]||"Neurological Condition";
}

// ================= DASHBOARD =================
let stats={HIGH:0,MODERATE:0,LOW:0};

function drawChart(){
 const ctx=chart.getContext("2d");
 ctx.clearRect(0,0,chart.width,chart.height);
 const data=[stats.HIGH,stats.MODERATE,stats.LOW];
 const colors=["#ff6b6b","#f1c40f","#2ecc71"];
 const labels=["High","Moderate","Low"];
 let x=50;
 data.forEach((v,i)=>{
  ctx.fillStyle=colors[i];
  ctx.fillRect(x,120-v*15,50,v*15);
  ctx.fillStyle="#000";
  ctx.fillText(labels[i],x,140);
  ctx.fillText(v,x+20,110-v*15);
  x+=140;
 });
}

// ================= MAIN =================
function runAssessment(){
 let a=age.value,c=complaint.value,d=duration.value,l=language.value;
 if(!a||!c||!d){alert("Complete all fields");return;}

 let r=assessRisk(c,d);
 let cond=detectCondition(c);
 stats[r.level]++; drawChart();

 window.lastResult={a,c,cond,r};

 output.innerHTML=`
 <div class="result ${r.css}">
 <b>Risk Level:</b> ${r.level}<br><br>
 <b>Possible Condition:</b> ${cond}<br><br>
 <b>Clinical Advice:</b><br>${TEXT[l][r.level.toLowerCase()]}
 </div>`;

 if(r.level==="HIGH") alert(TEXT[l].high);
}

// ================= REFERRAL =================
function printReferral(){
 if(!window.lastResult){alert("Run assessment first");return;}
 let w=window.open("");
 w.document.write(`<pre>
Referral Slip
-------------------------
Patient ID: ${pid.innerText}
Age: ${lastResult.a}
Complaint: ${lastResult.c}
Condition: ${lastResult.cond}
Risk: ${lastResult.r.level}

Recommendation:
Neurology OPD consultation advised

Virtual Neurology OPD
Dr Nisa Rasani
-------------------------
</pre>`);
 w.print();
}

// init
setLanguage();
</script>

</body>
  </html>
  
